ensemble application:
  members: nEnsDAMembers
output:
  filename: anStateDirOOPSMemberDir/anStatePrefix.$Y-$M-$D_$h.$m.$s.nc
variational:
  minimizer:
    algorithm: DRIPCG
  iterations:
  - geometry:
      gridfname: meshFile
    linear model:
      name: MPASIdTLM
      variable change: Identity
      tstep: PT0H
      trajectory:
        tstep: PT0H
      tlm variables: &incvars [AnalysisVariables]
    ninner: '60'
    gradient norm reduction: 1e-10
    test: 'on'
    diagnostics:
      departures: depbg
#  - geometry:
#      gridfname: meshFile
#    linear model:
#      name: MPASIdTLM
#      variable change: Identity
#      tstep: PT0H
#      trajectory:
#        tstep: PT0H
#      tlm variables: *incvars
#    ninner: '60'
#    gradient norm reduction: 1e-10
#    test: 'on'
final:
  diagnostics:
    departures: depan
cost function:
  cost type: 3D-Var
  window begin: 'WindowBegin'
  window length: PT6H
  geometry:
    gridfname: meshFile
  model:
    name: MPAS
    tstep: PT6H
    model variables: [ModelVariables]
  analysis variables: *incvars
  varable change: Identity
  background:
    state variables: *incvars
    filename: bgStateDirOOPSMemberDir/bgStatePrefix.2018-04-15_00.00.00.nc
    date: &adate '2018-04-15T00:00:00Z'
  background error:
    covariance model: ensemble
    date: *adate
    localization:
      localization method: BUMP
      timeslots:
      - *adate
      localization variables: *incvars
      bump:
        datadir: bumpLocDir
        prefix: bumpLocPrefix
        #verbosity: main
        default_seed: 1
        method: loc
        strategy: common  #specific_univariate
        new_hdiag: 0
        new_nicas: 0
        load_nicas: 1
        lsqrt: 1
        mpicom: 2
    _: &state
      date: *adate
      state variables: *incvars
    members:
EnsemblePbMembers
    variables: *incvars
  observations:
