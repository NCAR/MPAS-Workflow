- obs space:
    name: Radiosonde
    obsdatain:
      obsfile: InDBDir/sondes_obs_2018041500.nc4
    obsdataout:
      obsfile: OutDBDirOOPSMemberDir/obsPrefix_AppType_sondes.nc4
    simulated variables: [air_temperature, virtual_temperature, eastward_wind, northward_wind, specific_humidity]
  obs operator:
    name: VertInterp
  obs error:
    covariance model: diagonal
  obs filters:
  - filter: PreQC
    maxvalue: 3
  - filter: Background Check
    threshold: 3.0
    apply at iterations: 0, 1
- obs space:
    name: Aircraft
    obsdatain:
      obsfile: InDBDir/aircraft_obs_2018041500.nc4
    obsdataout:
      obsfile: OutDBDirOOPSMemberDir/obsPrefix_AppType_aircraft.nc4
    simulated variables: [air_temperature, eastward_wind, northward_wind, specific_humidity]
  obs operator:
    name: VertInterp
  obs error:
    covariance model: diagonal
  obs filters:
  - filter: PreQC
    maxvalue: 3
  - filter: Background Check
    threshold: 3.0
    apply at iterations: 0, 1
- obs space:
    name: Satwind
    obsdatain:
      obsfile: InDBDir/satwind_obs_2018041500.nc4
    obsdataout:
      obsfile: OutDBDirOOPSMemberDir/obsPrefix_AppType_satwind.nc4
    simulated variables: [eastward_wind, northward_wind]
  obs operator:
    name: VertInterp
  obs error:
    covariance model: diagonal
  obs filters:
  - filter: PreQC
    maxvalue: 3
  - filter: Background Check
    threshold: 3.0
    apply at iterations: 0, 1
#  - filter: Thinning
#    amount: RADTHINAMOUNT
#    random_seed: 0
#  - filter: Gaussian_Thinning
#    horizontal_mesh: RADTHINDISTANCE #km
- obs space:
    name: GnssroRef
    obsdatain:
      obsfile: InDBDir/gnssro_obs_2018041500.nc4
    obsdataout:
      obsfile: OutDBDirOOPSMemberDir/obsPrefix_AppType_gnssroref.nc4
    simulated variables: [refractivity]
  obs operator:
    name: GnssroRef
    obs options:
      use_compress: 0
  obs error:
    covariance model: diagonal
  obs filters:
  - filter: Domain Check
    where:
    - variable:
        name: altitude@MetaData
      minvalue: 0.0
      maxvalue: 30000.0
    - variable:
        name: earth_radius_of_curvature@MetaData
      minvalue: 6250000.0
      maxvalue: 6450000.0
    - variable:
        name: geoid_height_above_reference_ellipsoid@MetaData
      minvalue: -200
      maxvalue: 200
  - filter: Background Check
    threshold: 3.0
    apply at iterations: 0, 1
  - filter: ROobserror
    variable: refractivity
    errmodel: NBAM
    apply at iterations: 0, 1
- obs space:
    name: SfcPCorrected
    obsdatain:
      obsfile: InDBDir/sfc_obs_2018041500.nc4
    obsdataout:
      obsfile: OutDBDirOOPSMemberDir/obsPrefix_AppType_sfcp.nc4
    simulated variables: [surface_pressure]
  obs operator:
    name: SfcPCorrected
    da_psfc_scheme: UKMO   # or WRFDA
  linear obs operator:
    name: Identity
  obs error:
    covariance model: diagonal
  obs filters:
  - filter: PreQC
    maxvalue: 3
  - filter: Difference Check
    reference: station_elevation@MetaData
    value: surface_altitude@GeoVaLs
    threshold: 200.0
    apply at iterations: 0, 1
  - filter: Background Check
    threshold: 3.0
    apply at iterations: 0, 1
