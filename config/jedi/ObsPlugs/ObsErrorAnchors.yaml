_named latitude bands:
  # 7-band
  NPol:
    min: &minNPol 60.
    max: &maxNPol 90.
  NMid:
    min: &minNMid 30.
    max: &maxNMid 60.
  NTro:
    min: &minNTro  5.
    max: &maxNTro 30.
  ITCZ:
    min: &minITCZ -5.
    max: &maxITCZ  5.
  STro:
    min: &minSTro -30.
    max: &maxSTro  -5.
  SMid:
    min: &minSMid -60.
    max: &maxSMid -30.
  SPol:
    min: &minSPol -90.
    max: &maxSPol -60.

  # 3-band
  NXTro:
    min: &minNXTro 30.
    max: &maxNXTro 90.
  Tro:
    min: &minTro -30.
    max: &maxTro  30.
  SXTro:
    min: &minSXTro -90.
    max: &maxSXTro -30.

_gnssro:
  # latitude band-specific transition heights (m) to phase out gnssrorefncep (below)
  # Determined based on cold-start forecasts initialized from GFS analyses.
  # Refractivity bias is negative and larger than STD in places where temperature bias w.r.t. GFS
  # analyses and sondes is negative (too cold).  Same behavior is more pronounced in tropics down to
  # lower altitudes.  Since refractivity ~ P/T, negative refractivity bias should correspond to warm
  # bias at a fixed pressure.  If one of 3D pressure or density is added as analysis variable, will
  # need to revisit this strategy.
  #
  # TODO: replace refractivity as anchor observation above these transition heights
  # until then, do not assimilate higher peaking AMSUA channels when using VarBC
  # candidates include gnssrobndmo, gnssrobndropp1d, gnssrobndnbam
  # gnssrobndmo: only modifies pressure and moisture, not compatible with
  #   mpas-jedi analysis variables
  # gnssrobndropp1d: exibits same bias sign and similar magnitude relative to STD as gnssroref
  # gnssrobndnbam: so far unsuccessful in cycling experiments
  transitions:
    NPol: &gnssroNPolTransition 25000.
    NMid: &gnssroNMidTransition 20000.
    Tro: &gnssroTroTransition 15000.
    SMid: &gnssroSMidTransition 20000.
    SPol: &gnssroSPolTransition 25000.

  errors:
    # heights (m) for observation error interpolation
    levels: &gnssroErrorLevels
      [ 1000.0,  2000.0,  3000.0,  4000.0,  5000.0,
        6000.0,  7000.0,  8000.0,  9000.0, 10000.0,
       11000.0, 12000.0, 13000.0, 14000.0, 15000.0,
       16000.0, 17000.0, 18000.0, 19000.0, 20000.0,
       21000.0, 22000.0, 23000.0, 24000.0, 25000.0,
       26000.0, 27000.0, 28000.0, 29000.0, 30000.0]

    # latitude band-specific ObsValue-normalized observation errors, i.e., (O-B)/O (unitless)
    refncep:
      # commands used to modify diagnostic output:
      # set tmp = $analysisDir/gnssrorefncep
      # cd $analysisDir/gnssrorefncep_analyses/BinValAxisProfile/RelativeObsError/data
      # grep 'rltv_doadob' alt_*_BinValAxis_0-0min_gnssrorefncep_RelativeObsError_RMS.yaml | sed 's@.*yaml:\ \+@@' > $tmp
      # vi $tmp
      # :%s@.*gnssrorefncep\(.*\)_Ref:@\1:\ \&gnssrorefncep\1Errors@
      #
      # # use to divide relative doadob by 100 (only works when all values < 10%):
      # :%s@\(\d\)\.\(\d\+\)@0\.0\1\2@g
      # # format arrays
      # :%s@\(,.\{-},.\{-},.\{-},.\{-},\)@\1\r\ @g
      # :%s@\ \[@\r\ \[@
      # 1st rltv_doadob adjustment, starting at NCEP ROobserror filter errors for refractivity
      NMid: &gnssrorefncepNMidErrors
        [0.01134, 0.008736, 0.006804, 0.005485, 0.004488,
         0.003768, 0.003313, 0.002973, 0.002738, 0.002651,
         0.002713, 0.002675, 0.002562, 0.002456, 0.002435,
         0.002444, 0.002455, 0.002449, 0.002484, 0.002524,
         0.002647, 0.002721, 0.002859, 0.003152, 0.003329,
         0.003473, 0.003616, 0.003955, 0.004236, 0.00441]
      NPol: &gnssrorefncepNPolErrors
        [0.01042, 0.007755, 0.005897, 0.004736, 0.003916,
         0.00349, 0.003284, 0.003174, 0.003056, 0.002936,
         0.002687, 0.002453, 0.00237, 0.002303, 0.002301,
         0.002288, 0.002308, 0.002303, 0.002326, 0.002319,
         0.002347, 0.002414, 0.002508, 0.002601, 0.002808,
         0.003045, 0.003337, 0.003707, 0.003899, 0.004118]
      SMid: &gnssrorefncepSMidErrors
        [0.01043, 0.008028, 0.006269, 0.005114, 0.004283,
         0.003661, 0.003173, 0.002817, 0.002594, 0.002484,
         0.002558, 0.002545, 0.002474, 0.002494, 0.002534,
         0.002522, 0.002462, 0.002392, 0.00228, 0.002252,
         0.002273, 0.002324, 0.002444, 0.00266, 0.002865,
         0.003077, 0.003306, 0.003682, 0.004037, 0.00428]
      SPol: &gnssrorefncepSPolErrors
        [0.00981, 0.007581, 0.006054, 0.004842, 0.004019,
         0.00359, 0.003327, 0.003187, 0.003171, 0.003073,
         0.002809, 0.002634, 0.002602, 0.002594, 0.002525,
         0.002483, 0.002498, 0.002498, 0.00248, 0.002537,
         0.002624, 0.002748, 0.002859, 0.003124, 0.003434,
         0.003735, 0.004084, 0.004529, 0.005065, 0.005239]
      Tro: &gnssrorefncepTroErrors
        [0.01109, 0.009772, 0.009029, 0.007714, 0.006452,
         0.005185, 0.00414, 0.003288, 0.002652, 0.002226,
         0.002269, 0.002484, 0.002767, 0.003037, 0.0033,
         0.003795, 0.004505, 0.00464, 0.004935, 0.005289,
         0.005707, 0.006113, 0.006616, 0.007672, 0.008289,
         0.008123, 0.007624, 0.007444, 0.00725, 0.006861]

    # cannot train bndmo until 3D pressure is used as a linear GeoVar
    bndmo:
      NMid: &gnssrobndmoNMidErrors *gnssrorefncepNMidErrors
      NPol: &gnssrobndmoNPolErrors *gnssrorefncepNPolErrors
      SMid: &gnssrobndmoSMidErrors *gnssrorefncepSMidErrors
      SPol: &gnssrobndmoSPolErrors *gnssrorefncepSPolErrors
      Tro: &gnssrobndmoTroErrors *gnssrorefncepTroErrors
