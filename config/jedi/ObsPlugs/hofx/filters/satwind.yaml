  obs filters:
  - filter: PreQC
    maxvalue: 3

  # Assign the observation error based on pressure for each ObsType
  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 240
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType240Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 241
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType241Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 242
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType242Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 243
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType243Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 244
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType244Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 245
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType245Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 246
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType246Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 247
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType247Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 250
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType250Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 251
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType251Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 252
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType252Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 253
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType253Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 254
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType254Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 257
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType257Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 258
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType258Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 259
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType259Errors

  - filter: Perform Action
    filter variables:
    - name: eastward_wind
    - name: northward_wind
    where:
    - variable:
        name: ObsType/eastward_wind
      is_in: 260
    action:
      name: assign error
      error function:
        name: ObsFunction/ObsErrorModelStepwiseLinear
        options:
          xvar:
            name: MetaData/air_pressure
          xvals: *satwindErrorLevels
          errors: *satwindObsType260Errors

  - filter: Background Check
    threshold: 10.0
    <<: *multiIterationFilter

  - filter: Gaussian Thinning
    horizontal_mesh: {{RADTHINDISTANCE}}
