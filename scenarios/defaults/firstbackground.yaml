firstbackground:
  resources:
    ## defaults:
    # default resource values
    # can be overridden in either a `common` or `{{mesh}}``-specific block
    defaults:
      ## directory: where background state(s) is(are) stored, possibly including {{prevDateTime}} string
      directory: None

      ## filePrefix: prefix of the background files
      filePrefix: mpasout

      ## maxMembers: maximum number of background members available for this resource
      maxMembers: 1

      ## memberFormat:
      # python formatting string for memberDir function
      # defaults to providing an empty member directory, i.e., for non-ensemble scenarios
      memberFormat: " "

      ## PrepareFirstBackground: mini-workflow that executes the R1 forecast
      PrepareFirstBackground: None

    ForecastFromAnalysis:
      common:
        PrepareFirstBackground: "ColdForecast:succeed-all => ForecastFinished__"

    PANDAC:
      GFS:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        120km: # only available 20180414T18, 20200723T18
          directory: "/glade/p/mmm/parc/guerrett/pandac/fixed_input/120km/SingleFCFirstCycle/{{FirstCycleDate}}"
        60km: # only available 20180414T18, 20200723T18
          directory: "/glade/p/mmm/parc/guerrett/pandac/fixed_input/60km/SingleFCFirstCycle/{{FirstCycleDate}}"
        30km: # only available 20180414T18
          directory: "/glade/p/mmm/parc/guerrett/pandac/fixed_input/30km/SingleFCFirstCycle/{{FirstCycleDate}}"
      LaggedGEFS:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        120km: # only available 20180414T18, 20200723T18
          directory: "/glade/p/mmm/parc/guerrett/pandac/fixed_input/120km/EnsFCFirstCycle/{{FirstCycleDate}}"
          maxMembers: 80
          memberFormat: "/{:02d}"
        60km: # only available 20180414T18, 20200723T18
          directory: "/glade/p/mmm/parc/guerrett/pandac/fixed_input/60km/EnsFCFirstCycle/{{FirstCycleDate}}"
          maxMembers: 80
          memberFormat: "/{:02d}"

    SIO:
      GFS:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        30km: # only available 20180414T18
          directory: "/glade/scratch/ivette/sio-cw3e/GenerateGFSAnalyses/ExternalAnalyses/30km/{{FirstCycleDate}}"
        60km: # only available 20180414T18
          directory: "/glade/scratch/ivette/sio-cw3e/GenerateGFSAnalyses/ExternalAnalyses/60km/{{FirstCycleDate}}"
      GEFS:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        60km: # only available 20221231T18
          directory: "/glade/scratch/ivette/GEFS_data/forecast/60km/EnsFCFirstCycle/{{FirstCycleDate}}"
          maxMembers: 30
          memberFormat: "/{:02d}"
        30km: # only available 20230116T12
          directory: "/glade/scratch/ivette/GEFS_data/forecast/30km/EnsFCFirstCycle/{{FirstCycleDate}}"
          maxMembers: 30
          memberFormat: "/{:02d}"
