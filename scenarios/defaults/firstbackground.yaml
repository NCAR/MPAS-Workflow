firstbackground:
  resources:
    ## defaults:
    # default resource values
    # can be overridden in either a `common` or `{{mesh}}``-specific block
    defaults:
      ## directory: where background state(s) is(are) stored, possibly including {{prevDateTime}} string
      directory: None

      ## filePrefix: prefix of the background files
      filePrefix: mpasout

      ## maxMembers: maximum number of background members available for this resource
      maxMembers: 1

      ## memberFormat:
      # python formatting string for memberDir function
      # defaults to providing an empty member directory, i.e., for non-ensemble scenarios
      memberFormat: " "

      ## PrepareFirstBackground: mini-workflow that executes the R1 forecast
      PrepareFirstBackground: None

    ForecastFromAnalysis:
      common:
        PrepareFirstBackground: "ColdForecast:succeed-all => ForecastFinished__"

    SACA:
      common:
        PrepareFirstBackground: "LinkWarmStartBackgrounds => ColdForecast:succeed-all => ForecastFinished__"

    PANDAC:
      GFS:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        120km: # only available 20180414T18, 20200723T18
          directory: "/glade/campaign/mmm/parc/taosun/pandac/120kmMeshGFS/FirstBackground_NEW/{{FirstCycleDate}}"
        60km: # only available 20180414T18, 20200723T18
          directory: "/glade/campaign/mmm/parc/taosun/pandac/60kmMeshGFS/FirstBackground_NEW/{{FirstCycleDate}}"
        30km: # only available 20180414T18
          directory: "/glade/campaign/mmm/parc/taosun/pandac/30kmMeshGFS/FirstBackground_NEW/{{FirstCycleDate}}"
        60-3km:
          directory: "/glade/campaign/mmm/parc/taosun/pandac/60km3kmVMeshGFS/FirstBackground_Thompson_NEW/{{FirstCycleDate}}"
      LaggedGEFS:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        120km: # only available 20180414T18, 20200723T18
          directory: "/glade/u/home/taosun/scratch/pandac/120kmEnsFCFirstCycle/{{FirstCycleDate}}"
          maxMembers: 20
          memberFormat: "/mem{:03d}"
        60km: # only available 20180414T18, 20200723T18
          directory: "/glade/campaign/mmm/parc/liuz/pandac_common/fixed_input/60km/EnsFCFirstCycle/{{FirstCycleDate}}"
          maxMembers: 80
          memberFormat: "/{:02d}"
      EnsPertB:
        common:
          PrepareFirstBackground: "LinkWarmStartBackgrounds => ForecastFinished__"
        120km: # only available 20180414T18, 20200723T18
          directory: "/glade/campaign/mmm/parc/taosun/pandac/120kmMeshGFS/ENS_FCST/{{FirstCycleDate}}"
          maxMembers: 80
          memberFormat: "/mem{:03d}"
        60km: # only available 20180414T18, 20200723T18
          directory: "/glade/campaign/mmm/parc/taosun/pandac/60kmMeshGFS/ENS_FCST/{{FirstCycleDate}}"
          maxMembers: 80
          memberFormat: "/mem{:03d}"
        30km: 
          directory: "/glade/campaign/mmm/parc/taosun/pandac/30kmMeshGFS/ENS_FCST/{{FirstCycleDate}}"
          maxMembers: 80
          memberFormat: "/mem{:03d}"
