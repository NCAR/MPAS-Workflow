    - ObsSpace:
        name: Radiosonde
        ObsDataIn:
          obsfile: InDBDir/sondes_obs_2018041500.nc4
        ObsDataOut:
          obsfile: OutDBDirOOPSMemberDir/obsPrefix_DATYPE_sondes.nc4
        simulate:
          variables: [air_temperature, virtual_temperature, eastward_wind, northward_wind]
      ObsOperator:
        name: VertInterp
      Covariance:
        covariance: diagonal
      ObsFilters:
      - Filter: PreQC
        maxvalue: 3
        apply_at_iterations: 0
      - Filter: Background Check
        threshold: 3.0
    - ObsSpace:
        name: Aircraft
        ObsDataIn:
          obsfile: InDBDir/aircraft_obs_2018041500.nc4
        ObsDataOut:
          obsfile: OutDBDirOOPSMemberDir/obsPrefix_DATYPE_aircraft.nc4
        simulate:
          variables: [air_temperature, eastward_wind, northward_wind, specific_humidity]
      ObsOperator:
        name: VertInterp
      Covariance:
        covariance: diagonal
      ObsFilters:
      - Filter: PreQC
        maxvalue: 3
        apply_at_iterations: 0
      - Filter: Background Check
        threshold: 3.0
    - ObsSpace:
        name: Satwind
        ObsDataIn:
          obsfile: InDBDir/satwind_obs_2018041500.nc4
        ObsDataOut:
          obsfile: OutDBDirOOPSMemberDir/obsPrefix_DATYPE_satwind.nc4
        simulate:
          variables: [eastward_wind, northward_wind]
      ObsOperator:
        name: VertInterp
      Covariance:
        covariance: diagonal
      ObsFilters:
      - Filter: PreQC
        maxvalue: 3
        apply_at_iterations: 0
      - Filter: Background Check
        threshold: 3.0
#      - Filter: Thinning
#        amount: RADTHINAMOUNT
#        random_seed: 0
#        apply_at_iterations: 0
#      - Filter: Gaussian_Thinning
#        horizontal_mesh: RADTHINDISTANCE #km
    - ObsSpace:
        name: GnssroRef
        ObsDataIn:
          obsfile: InDBDir/gnssro_obs_2018041500.nc4
        ObsDataOut:
          obsfile: OutDBDirOOPSMemberDir/obsPrefix_DATYPE_gnssroref.nc4
        simulate:
          variables: [refractivity]
      ObsOperator:
        name: GnssroRef
        ObsOptions:
          use_compress: 0
      Covariance:
        covariance: diagonal
      ObsFilters:
      - Filter: Domain Check
        where:
        - variable:
            name: altitude@MetaData
          minvalue: 0.0
          maxvalue: 30000.0
        - variable:
            name: earth_radius_of_curvature@MetaData
          minvalue: 6250000.0
          maxvalue: 6450000.0
        - variable:
            name: geoid_height_above_reference_ellipsoid@MetaData
          minvalue: -200
          maxvalue: 200
      - Filter: Background Check
        threshold: 3.0
      - Filter: ROobserror
        variable: refractivity
        errmodel: NBAM
    - ObsSpace:
        name: SfcPCorrected
        ObsDataIn:
          obsfile: InDBDir/sfc_obs_2018041500.nc4
        ObsDataOut:
          obsfile: OutDBDirOOPSMemberDir/obsPrefix_DATYPE_sfcp.nc4
        simulate:
          variables: [surface_pressure]
      ObsOperator:
        name: SfcPCorrected
        da_psfc_scheme: UKMO   # or WRFDA
      LinearObsOperator:
        name: Identity
      Covariance:
        covariance: diagonal
      ObsFilters:
      - Filter: PreQC
        maxvalue: 3
        apply_at_iterations: 0
      - Filter: Difference Check
        reference: station_elevation@MetaData
        value: surface_altitude@GeoVaLs
        threshold: 200.0
      - Filter: Background Check
        threshold: 3.0
